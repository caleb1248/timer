const e=document.getElementById("time");let n=null,t=null,r=null;const l=e=>e<10?`0${e}`:e,a=document.querySelector("#timeSelector"),o=document.querySelector("#togglePlay"),u=document.getElementById("beep");function c(){n&&clearInterval(n),s()}function i(){r?(o.innerHTML="stop",o.style.backgroundColor="red",o.onclick=c,n&&clearInterval(n),t=function([e,n,t],r){var l=r.getHours()+e,a=r.getMinutes()+n,o=r.getSeconds()+t,u=new Date;return o>60&&(a++,o-=60),a>60&&(l++,a-=60),new Date(u.getFullYear(),u.getMonth(),u.getDay(),l,a,o)}(r,new Date),n=setInterval((()=>{if(r=function(e,n){var t=e.getHours()-n.getHours(),r=e.getMinutes()-n.getMinutes(),l=e.getSeconds()-n.getSeconds();return l<0&&(r--,l=60-Math.abs(l)),r<0&&(t--,r=60-Math.abs(r)),t<0?"timesup":[t,r,l]}(t,new Date),"timesup"==r)u.play(),setTimeout((()=>{u.pause(),u.currentTime=0}),3e3),s(),clearInterval(n);else{var[a,o,c]=r;e.innerHTML=`${l(a)}:${l(o)}:${l(c)}`.replace("NaN","00").replace("NaN","00").replace("NaN","00")}}),1e3)):alert("Please select a time")}function s(){o.innerHTML="play_arrow",o.style.backgroundColor="green",o.onclick=i}a.onclick=function(){n&&clearInterval(n);var t=window.prompt("Enter number of hours");if(null!=t){t=parseInt(t),isNaN(t)&&(t=0);var a=window.prompt("Enter number of minutes");if(null!=a){a=parseInt(a),isNaN(a)&&(a=0);var o=window.prompt("Enter number of seconds");null!=o&&(o=parseInt(o),isNaN(o)&&(o=0),r=[t,a,o],e.innerHTML=`${l(t)}:${l(a)}:${l(o)}`)}}},o.onclick=i;
